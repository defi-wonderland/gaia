apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Required secrets in `search` namespace (create before deploying):
#   - kafka-credentials: KAFKA_BROKER, KAFKA_USERNAME, KAFKA_PASSWORD, KAFKA_SSL_CA_PEM
#   - grafana-credentials: ADMIN_USER, ADMIN_PASSWORD
#   - search-indexer-secrets: AXIOM_TOKEN (optional)
#
# See README.md for details.

resources:
  - namespace.yaml
  - opensearch.yaml
  - search-indexer.yaml
  - monitoring.yaml

configMapGenerator:
  - name: grafana-dashboards
    namespace: search
    options:
      disableNameSuffixHash: true
    files:
      - opensearch-overview.json=../grafana/dashboards/opensearch-overview-dashboard.json

